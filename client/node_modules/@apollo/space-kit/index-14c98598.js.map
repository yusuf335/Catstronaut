{"version":3,"file":"index-14c98598.js","sources":["src/shared/FormControlContext/index.tsx"],"sourcesContent":["import * as React from \"react\";\n\n/**\n * These items are expected to be passed to the context provider\n */\ninterface FormControlContextConfig {\n  id?: string;\n}\n\n// All of these items are _required_, but can have values of `undefined`.\ninterface FormControl extends FormControlContextConfig {\n  description: React.ReactNode | undefined;\n  setDescription:\n    | React.Dispatch<React.SetStateAction<FormControl[\"description\"]>>\n    | undefined;\n  errorMessageElement: React.ReactNode | undefined;\n  setErrorMessageElement:\n    | React.Dispatch<React.SetStateAction<FormControl[\"errorMessageElement\"]>>\n    | undefined;\n  endAdornment: React.ReactNode | undefined;\n  setEndAdornment:\n    | React.Dispatch<React.SetStateAction<FormControl[\"endAdornment\"]>>\n    | undefined;\n  helper: React.ReactNode | undefined;\n  setHelper:\n    | React.Dispatch<React.SetStateAction<FormControl[\"helper\"]>>\n    | undefined;\n  label: React.ReactNode | undefined;\n  setLabel:\n    | React.Dispatch<React.SetStateAction<FormControl[\"label\"]>>\n    | undefined;\n  startAdornment: React.ReactNode | undefined;\n  setStartAdornment:\n    | React.Dispatch<React.SetStateAction<FormControl[\"startAdornment\"]>>\n    | undefined;\n  labelId: string | undefined;\n  descriptionId: string | undefined;\n  feedbackId: string | undefined;\n  helperTextId: string | undefined;\n}\n\n/**\n * Context holding all configuration options for lists\n */\nconst FormControlContext = React.createContext<FormControl | undefined>(\n  undefined,\n);\n\nexport const FormControlContextProvider: React.FC<FormControlContextConfig> = ({\n  children,\n  id,\n}) => {\n  const [endAdornment, setEndAdornment] = React.useState<React.ReactNode>();\n  const [description, setDescription] = React.useState<React.ReactNode>();\n  const [errorMessageElement, setErrorMessageElement] = React.useState<\n    React.ReactNode\n  >();\n  const [helper, setHelper] = React.useState<React.ReactNode>();\n  const [label, setLabel] = React.useState<React.ReactNode>();\n  const [startAdornment, setStartAdornment] = React.useState<React.ReactNode>();\n\n  return (\n    <FormControlContext.Provider\n      value={{\n        id,\n        labelId: id && `${id}-label`,\n        descriptionId: id && `${id}-description`,\n        feedbackId: id && `${id}-feedback`,\n        helperTextId: id && `${id}-helptext`,\n        description,\n        setDescription,\n        errorMessageElement,\n        setErrorMessageElement,\n        endAdornment,\n        setEndAdornment,\n        helper,\n        setHelper,\n        label,\n        setLabel,\n        startAdornment,\n        setStartAdornment,\n      }}\n    >\n      {children}\n    </FormControlContext.Provider>\n  );\n};\n\n/**\n * Internal hook to access form control context\n */\nexport function useFormControlInternalContext(): FormControl {\n  const {\n    id,\n    description,\n    setDescription,\n    errorMessageElement,\n    setErrorMessageElement,\n    endAdornment,\n    setEndAdornment,\n    setStartAdornment,\n    startAdornment,\n    setHelper,\n    helper,\n    label,\n    setLabel,\n    labelId,\n    descriptionId,\n    feedbackId,\n    helperTextId,\n  } = React.useContext(FormControlContext) || {};\n\n  return React.useMemo(\n    () => ({\n      id,\n      description,\n      setDescription,\n      errorMessageElement,\n      setErrorMessageElement,\n      endAdornment,\n      setEndAdornment,\n      setStartAdornment,\n      startAdornment,\n      setHelper,\n      helper,\n      label,\n      setLabel,\n      labelId,\n      descriptionId,\n      feedbackId,\n      helperTextId,\n    }),\n    [\n      id,\n      description,\n      setDescription,\n      errorMessageElement,\n      setErrorMessageElement,\n      endAdornment,\n      setEndAdornment,\n      setStartAdornment,\n      startAdornment,\n      setHelper,\n      helper,\n      label,\n      setLabel,\n      labelId,\n      descriptionId,\n      feedbackId,\n      helperTextId,\n    ],\n  );\n}\n\n/**\n * Hook intended to provide `FormControl` props to form components\n */\nexport function useFormControlContext(): {\n  describedBy: string | undefined;\n  hasError: boolean;\n  labelledBy: string | undefined;\n} & Pick<FormControl, \"endAdornment\" | \"id\" | \"startAdornment\"> {\n  const {\n    description,\n    descriptionId,\n    endAdornment,\n    errorMessageElement,\n    feedbackId,\n    helper,\n    helperTextId,\n    id,\n    labelId,\n    startAdornment,\n  } = useFormControlInternalContext();\n\n  return React.useMemo(\n    () => ({\n      describedBy:\n        [\n          !!description && descriptionId,\n          !!errorMessageElement && feedbackId,\n          !errorMessageElement && helper && helperTextId,\n        ]\n          .filter((text): text is string => !!text)\n          .join(\" \") || undefined,\n      endAdornment,\n      hasError: !!errorMessageElement,\n      id,\n      labelledBy: labelId || undefined,\n      startAdornment,\n    }),\n    [\n      description,\n      descriptionId,\n      endAdornment,\n      errorMessageElement,\n      feedbackId,\n      helper,\n      helperTextId,\n      id,\n      labelId,\n      startAdornment,\n    ],\n  );\n}\n"],"names":["FormControlContext","React","undefined","FormControlContextProvider","_a","children","id","_b","endAdornment","setEndAdornment","_c","description","setDescription","_d","errorMessageElement","setErrorMessageElement","_e","helper","setHelper","_f","label","setLabel","_g","startAdornment","setStartAdornment","Provider","value","labelId","descriptionId","feedbackId","helperTextId","useFormControlInternalContext","useFormControlContext","describedBy","filter","text","join","hasError","labelledBy"],"mappings":"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"}