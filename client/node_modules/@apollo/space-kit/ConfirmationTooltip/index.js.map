{"version":3,"file":"index.js","sources":["../src/ConfirmationTooltip/index.tsx"],"sourcesContent":["import \"../../node_modules/tippy.js/animations/shift-away.css\";\nimport React from \"react\";\nimport { AbstractTooltip, AbstractTooltipProps } from \"../AbstractTooltip\";\n\ntype Props = Pick<\n  React.ComponentProps<typeof AbstractTooltip>,\n  \"children\" | \"content\" | \"disabled\"\n> &\n  AbstractTooltipProps;\n\n/**\n * Display a non-interactive tooltip after an element is clicked on and then\n * remove the tooltip after a short period of time\n */\nexport const ConfirmationTooltip: React.FC<Props> = ({\n  children,\n  ...props\n}) => {\n  /**\n   * Store result of `useTimeout` so we can cancel the timeout if this component\n   * is unmounted before the timeout fires\n   */\n  const timeoutRef = React.useRef<number | null>(null);\n\n  // When this component is being unmounted, remove the timeout if one exists.\n  // This will prevent trying to call methods on destroyed components\n  React.useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        window.clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <AbstractTooltip\n      trigger=\"click\"\n      {...props}\n      onShow={(instance) => {\n        if (timeoutRef.current) {\n          window.clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = window.setTimeout(() => {\n          instance.hide();\n        }, 3000);\n      }}\n      onHide={() => {\n        if (timeoutRef.current) {\n          window.clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = null;\n      }}\n    >\n      {children}\n    </AbstractTooltip>\n  );\n};\n"],"names":["ConfirmationTooltip","_a","children","props","timeoutRef","React","useRef","useEffect","current","window","clearTimeout","AbstractTooltip","trigger","onShow","instance","setTimeout","hide","onHide"],"mappings":";;;;;;;;;;;;;;;;;;;;AAUA;;;;;AAIA,IAAaA,mBAAmB,GAAoB,UAACC,EAAD;MAClDC,QAAQ,cAAR;MACGC,KAAK,qBAF2C,WAAA,EACnD;;;;;;;MAOMC,UAAU,GAAGC,cAAK,CAACC,MAAN,CAA4B,IAA5B,CAAnB;;;EAIAD,cAAK,CAACE,SAAN,CAAgB;WACP;UACDH,UAAU,CAACI,OAAf,EAAwB;QACtBC,MAAM,CAACC,YAAP,CAAoBN,UAAU,CAACI,OAA/B;;KAFJ;GADF,EAMG,EANH;sBASEH,4BAAA,CAACM,uBAAD;IACEC,OAAO,EAAC;KACJT;IACJU,MAAM,EAAE,UAACC,QAAD;UACFV,UAAU,CAACI,OAAf,EAAwB;QACtBC,MAAM,CAACC,YAAP,CAAoBN,UAAU,CAACI,OAA/B;;;MAGFJ,UAAU,CAACI,OAAX,GAAqBC,MAAM,CAACM,UAAP,CAAkB;QACrCD,QAAQ,CAACE,IAAT;OADmB,EAElB,IAFkB,CAArB;;IAIFC,MAAM,EAAE;UACFb,UAAU,CAACI,OAAf,EAAwB;QACtBC,MAAM,CAACC,YAAP,CAAoBN,UAAU,CAACI,OAA/B;;;MAGFJ,UAAU,CAACI,OAAX,GAAqB,IAArB;;IAjBJ,EAoBGN,QApBH,CADF;CApBK;;;;"}