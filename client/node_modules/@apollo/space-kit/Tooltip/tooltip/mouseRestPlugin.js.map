{"version":3,"file":"mouseRestPlugin.js","sources":["../../src/Tooltip/tooltip/mouseRestPlugin.ts"],"sourcesContent":["import { Plugin } from \"tippy.js\";\n\n// @see https://atomiks.github.io/tippyjs/misc/#onmouserest-implementation\n\nexport const mouseRest: Plugin = {\n  name: \"mouseRest\",\n  defaultValue: false,\n  fn(instance) {\n    const { reference } = instance;\n    const DEBOUNCE_MS = 80;\n\n    let timeout: number | undefined;\n\n    // If the `trigger` isn't `\"mouseenter\"`, then this plugin doesn't apply.\n    function getIsEnabled() {\n      const isEnabled =\n        !instance.props.interactive &&\n        instance.props.trigger.indexOf(\"mouseenter\") !== -1;\n\n      return isEnabled;\n    }\n\n    return {\n      onCreate() {\n        if (!getIsEnabled()) {\n          return;\n        }\n\n        const triggerWithoutMouseEnter = instance.props.trigger\n          .replace(\"mouseenter\", \"\")\n          .trim();\n\n        instance.setProps({ trigger: triggerWithoutMouseEnter });\n\n        reference.addEventListener(\"mousemove\", () => {\n          clearTimeout(timeout);\n          timeout = window.setTimeout(() => instance.show(), DEBOUNCE_MS);\n        });\n\n        reference.addEventListener(\"mouseleave\", () => {\n          clearTimeout(timeout);\n          instance.hide();\n        });\n      },\n      onDestroy() {\n        clearTimeout(timeout);\n      },\n    };\n  },\n};\n"],"names":["mouseRest","name","defaultValue","fn","instance","reference","DEBOUNCE_MS","timeout","getIsEnabled","isEnabled","props","interactive","trigger","indexOf","onCreate","triggerWithoutMouseEnter","replace","trim","setProps","addEventListener","clearTimeout","window","setTimeout","show","hide","onDestroy"],"mappings":";;;;AAEA;AAEA,IAAaA,SAAS,GAAW;EAC/BC,IAAI,EAAE,WADyB;EAE/BC,YAAY,EAAE,KAFiB;EAG/BC,EAAE,EAAF,UAAGC,QAAH;QACUC,SAAS,GAAKD,QAAQ,UAAtB;QACFE,WAAW,GAAG,EAApB;QAEIC,OAAJ;;aAGSC,YAAT;UACQC,SAAS,GACb,CAACL,QAAQ,CAACM,KAAT,CAAeC,WAAhB,IACAP,QAAQ,CAACM,KAAT,CAAeE,OAAf,CAAuBC,OAAvB,CAA+B,YAA/B,MAAiD,CAAC,CAFpD;aAIOJ,SAAP;;;WAGK;MACLK,QAAQ;YACF,CAACN,YAAY,EAAjB,EAAqB;;;;YAIfO,wBAAwB,GAAGX,QAAQ,CAACM,KAAT,CAAeE,OAAf,CAC9BI,OAD8B,CACtB,YADsB,EACR,EADQ,EAE9BC,IAF8B,EAAjC;QAIAb,QAAQ,CAACc,QAAT,CAAkB;UAAEN,OAAO,EAAEG;SAA7B;QAEAV,SAAS,CAACc,gBAAV,CAA2B,WAA3B,EAAwC;UACtCC,YAAY,CAACb,OAAD,CAAZ;UACAA,OAAO,GAAGc,MAAM,CAACC,UAAP,CAAkB;mBAAMlB,QAAQ,CAACmB,IAAT,EAAA;WAAxB,EAAyCjB,WAAzC,CAAV;SAFF;QAKAD,SAAS,CAACc,gBAAV,CAA2B,YAA3B,EAAyC;UACvCC,YAAY,CAACb,OAAD,CAAZ;UACAH,QAAQ,CAACoB,IAAT;SAFF;OAjBG;MAsBLC,SAAS;QACPL,YAAY,CAACb,OAAD,CAAZ;;KAvBJ;;CAlBG;;;;"}